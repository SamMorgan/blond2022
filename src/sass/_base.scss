@use "sass:math";
@import "vars";

body {
    display: flex;
    flex-direction: column;
    height: auto;
    min-height: 100%;
    & > div {
        flex: 1;
        display: flex;
        flex-direction: column;
    }
    .site-footer {
        margin-top: auto;
    }
}
.blond-img {
    overflow: hidden;  
    div,
    div:last-child:after {
        position: absolute;
        width: 100%;
        height: 100%;
        top:0;
        left:0;
        background-size: cover;
        background-position: center;
        background-image: var(--imgsrc);
    }
    div:last-child {
        filter:url('#bleach'); 
    }
    // div:last-child:after {
    //     content: "";
    //     mix-blend-mode: color-burn;
    // }
    // div:last-child,
    // div:last-child:after {
    //     filter:url('#bleach'); 
    // }    
    //     & > div:after,
    //     & > div:before {
    //         position: absolute;
    //         width: 100%;
    //         height: 100%;
    //         top:0;
    //         left:0;
    //         background-size: cover;
    //         background-position: center;
    //         background-image: var(--imgsrc);
    //     }
    //     & > div:after,
    //     & > div:before {
    //         z-index: 1;
    //         content: "";
    //         filter:url('#bleach'); 
    //     }
    //     & > div:after {
    //         mix-blend-mode: color-burn;
    //     }
    // }    
}

[data-barba-namespace="labs"],
[data-barba-namespace="single-labs"],
[data-barba-namespace="labs"] .site-header,
[data-barba-namespace="single-labs"] .site-header {
    background:#000;
    color: $lightgrey;
}
[data-barba-namespace="labs"] .site-header h1 a,
[data-barba-namespace="labs"] .site-header ul.menu li a,
[data-barba-namespace="single-labs"] .site-header h1 a,
[data-barba-namespace="single-labs"] .site-header ul.menu li a,
[data-barba-namespace="labs"] .site-footer a,
[data-barba-namespace="single-labs"] .site-footer a {
    color: $lightgrey;
}



.content-wrap {
    padding: 3.875rem 0 0;
}
.module-two-imgs,
.module-three-imgs,
.module-text-3-cols {
    padding: 0 0.75rem 1rem;
    display: flex;
    img {
        width: 100%;
        height: auto;  
        display: block;     
    }
    .imgwrap,
    .col-1of3 {
        margin: 0 .4375rem; 
    }
}
.module-full-width-img,
.module-text,
.module-video,
.module-formatted-text {
    padding: 0 1.1875rem 0.875rem;
}
.module-full-width-img img,
.module-video video {
    width: 100%;
    display: block;
}
.module-two-imgs {
    .imgwrap {
        width: calc(50% - 0.875rem);
    }    
}
.module-three-imgs .imgwrap {
    width: calc(33.33% - 0.875rem);
}
.module-text {
    p:last-of-type {
        margin: 0;
    }
}
.module-formatted-text {
    color:#b7b7b7;
    strong {
        color: $grey;
    }
    ul {
        margin: 0 0 1.05em;
        li {
            padding: 0 0 0 1em;
            position: relative;
            margin: 0;
            &:before {
                content: "â€“";
                position: absolute;
                left:0;

            }
        }
    }
}
.module-space {
    height: 8.4375rem;
}

.swiper {
    .swiper-button-prev,
    .swiper-button-next {
        position: absolute;
        width: 50%;
        height: 100%;
        top:0;
        z-index: 2;
    }
    .swiper-button-prev {
        left:0;
    }
    .swiper-button-next {
        right:0;
    }
    .swiper-lazy {
        opacity: 0;
        transition: opacity .4s;
        &.swiper-lazy-loaded {
            opacity: 1;
        }
    }
} 
// .custom-cursor-wrap {
//     cursor: none;
// }
.privacy-policy-wrap {
    padding-top: 3.875rem;
}
.custom-cursor {
    position: fixed;
    top:0;
    left:0;
    z-index: 999;
    color: $orange;
    pointer-events: none;
}

img.lazy {
    opacity: 0;
    transition: opacity .4s;
    &.loaded {
        opacity: 1;
    }
}

@media (hover: hover) and (pointer: fine) {
    .custom-cursor {
        display: none;
    }
}  
@media (hover: none) and (pointer: coarse) {
    .custom-cursor {
        display: block;
        position: absolute;
        top:auto;
        bottom: 1.5rem;
        left:50%;
        transform: translateX(-50%);
    }
    .home-slider {
        .custom-cursor {
            display: none;
        }
    }

    .scrolldown {
        .custom-cursor {
            display: block;
        }
    }
    .home-slider {
        .custom-cursor {
            display: none;
        }
    } 
    .scrolled {
        .scrolldown {
            .custom-cursor {
                display: none;
            }
        }
        .home-slider {
            .custom-cursor {
                display: block;
            }
        } 
    }      
}  

@media only screen and (max-width: 750px) {
    .content-wrap {
        padding: 3rem 0 0;
    }
    .module-full-width-img,
    .module-two-imgs,
    .module-three-imgs,
    .module-text-3-cols {
        padding: 0 .5rem .5rem;
        .imgwrap,
        .col-1of3 {
            margin: 0 .3125rem; 
        }
    }
    .module-three-imgs {
        flex-wrap: wrap;
        .imgwrap {
            width: calc(50% - .625rem);
        }
    }
    .module-text,
    .module-formatted-text {
        padding: 0 .8125rem .5rem;
    }
    .privacy-policy-wrap {
        padding-top: 3.6rem;
    }    
}    